# 五大存储

## SharedPreference

适用范围**：**保存少量的数据，且这些数据的格式非常简单：字符串型、基本类型的值。比如应用程序的各种配置信息（如是否打开音效、是否使用震动效果、小游戏的玩家积分等），解锁口 令密码等

​    核心原理**：**保存基于XML文件存储的key-value键值对数据，通常用来存储一些简单的配置信息。通过DDMS的File Explorer面板，展开文件浏览树,很明显SharedPreferences数据总是存储在/data/data/<package name>/shared_prefs目录下。SharedPreferences对象本身只能获取数据而不支持存储和修改,存储修改是通过SharedPreferences.edit()获取的内部接口Editor对象实现。 SharedPreferences本身是一 个接口，程序无法直接创建SharedPreferences实例，只能通过Context提供的getSharedPreferences(String name, int mode)方法来获取SharedPreferences实例，该方法中name表示要操作的xml文件名，第二个参数具体如下：

​                 **Context.MODE_PRIVATE**: 指定该SharedPreferences数据只能被本应用程序读、写。

​                 **Context.MODE_WORLD_READABLE**:  指定该SharedPreferences数据能被其他应用程序读，但不能写。

​                 ***Context.MODE_WORLD_WRITEABLE***:  指定该SharedPreferences数据能被其他应用程序读，写

Editor有如下主要重要方法：

​                 **SharedPreferences.Editor clear():**清空SharedPreferences里所有数据

​                 **SharedPreferences.Editor putXxx(String key , xxx value):** 向SharedPreferences存入指定key对应的数据，其中xxx 可以是boolean,float,int等各种基本类型据

​                 **SharedPreferences.Editor remove():** 删除SharedPreferences中指定key对应的数据项

​                 **boolean commit():** 当Editor编辑完成后，使用该方法提交修改



## SQLite数据库存储

嵌入式数据库，可通过SQLiteOpenHelper.getWriteableDatabase获取实例，然后进行增删改查操作

## ContentProvider

ContentProvider一般为存储和获取数据提供统一的接口，可以在不同的应用程序之间共享数据。

之所以使用ContentProvider，主要有以下几个理由：
 1，ContentProvider提供了对底层数据存储方式的抽象。比如下图中，底层使用了SQLite数据库，在用了ContentProvider封装后，即使你把数据库换成MongoDB，也不会对上层数据使用层代码产生影响。

2，Android框架中的一些类需要ContentProvider类型数据。如果你想让你的数据可以使用在如SyncAdapter, Loader, CursorAdapter等类上，那么你就需要为你的数据做一层ContentProvider封装。

3，第三个原因也是最主要的原因，是ContentProvider为应用间的数据交互提供了一个安全的环境。它准许你把自己的应用数据根据需求开放给其他应用进行增、删、改、查，而不用担心直接开放数据库权限而带来的安全问题。



ContentProvider进行增，删，改，查的操作使用ContentResolver

ContentResolver来统一管理与不同ContentProvider间的操作。





### ContentProvider中的URI

ContentProvider中的URI有固定格式：

content://Authority/Path/Id



URI

Authority：

授权信息，用以区别不同的ContentProvider；

Path：

表名，用以区分ContentProvider中不同的数据表；

Id :

区分是哪一条数据



## 文件

Context提供了两个方法来打开数据文件里的文件IO流 FileInputStream openFileInput(String name); FileOutputStream(String name , int mode),这两个方法第一个参数 用于指定文件名，第二个参数指定打开文件的模式。具体有以下值可选：

​             ***MODE_PRIVATE***：为默认操作模式，代表该文件是私有数据，只能被应用本身访问，在该模式下，写入的内容会覆盖原文件的内容，如果想把新写入的内容追加到原文件中。可   以使用Context.MODE_APPEND

​             **MODE_APPEND**：模式会检查文件是否存在，存在就往文件追加内容，否则就创建新文件。

​             ***MODE_WORLD_READABLE***：表示当前文件可以被其他应用读取；

​             **MODE_WORLD_WRITEABLE**：表示当前文件可以被其他应用写入。

 除此之外，Context还提供了如下几个重要的方法：

​             **getDir(String name , int mode)**:在应用程序的数据文件夹下获取或者创建name对应的子目录

​             **File getFilesDir()**:获取该应用程序的数据文件夹得绝对路径

​             **String[] fileList()**:返回该应用数据文件夹的全部文件

## 网络